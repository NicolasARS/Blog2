{% extends 'base.html.twig' %}
{% block title%}Images{% endblock %}
{% block body%}
<div id="images">
   	  <div class="container">
   	    <div class="col-xs-12 col-sm-8 col-sm-push-2">
       	   <h1>Images</h1>
		   <hr>
		   <h4>Add a new image</h4>
		   <button class="btn"><a href="{{ path('add_images')}}">Add Image</a></button>
<div>
				<table class="table">
					<thead>
					<tr>
						<th scope="col">#</th>
						<th scope="col">File</th>
						<th scope="col">Views</th>
						<th scope="col">Likes</th>
						<th scope="col">Downloads</th>
						<th scope="col">Category</th>
                        <th scope="col">Delete</th>
					</tr>
					</thead>
					<tbody>
					{% for image in images %}
					<tr>
						<th scope="row">{{ image.id }}</th>
						<td>
							<img style='width:150px;' src='{{ asset('images/index/gallery/' ~ image.file) }}'>
						</td>
						<td>
							{{ image.numViews }}
						</td>
						<td>
							{{ image.numLikes }}
						</td>
						<td>
							{{ image.numDownloads }}
						</td>		
						<td>
							{{ image.category.name }}
						</td>
                        <td>
                        {% if is_granted('ROLE_ADMIN') %}
	    	                 <button class="btn sr-button"><a href="{{ path('delete_image', {'id' :  image.id})}}">Delete Image</a></button>
			            </td>
                        {% endif %}					
					</tr>
					{% endfor %}
					</tbody>
				</table>
			</div>
        </div>
    </div>
</div>

{% endblock %}